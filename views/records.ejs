<!DOCTYPE html>
<html>
  <head>
    <title>Ford Vision - Image Uploader</title>
    <link rel="stylesheet" href="/css/foundation.min.css">
    <link rel="stylesheet" href="/css/app.css">
    <script defer src="/js/vendor/jquery.js"></script>
    <script defer src="/js/vendor/foundation.min.js"></script>
    <script defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBcj2TtCDuC1BGnpWWuR4TiyGMVB-7fOd0"></script>
    <script defer src="/js/records.js"></script>
  </head>

  <body>

    <!-- <div id="drop_zone" ondrop="dropHandler(event);" ondragover="dragOverHandler(event);"> -->
    <div class="upload_container" id="upload_container">
      <h4>UPLOAD<span>ING</span><img src="https://i.gifer.com/BXXg.gif" /></h4>

      <form id="uploader" enctype="multipart/form-data">
        <input type="file" name="photo" id="photo" multiple=false/>
      </form>

      <input type="text" id="search" placeholder="type to filter images" />

    </div>
    <div id="image_data">
      <table class="record_table">
        <thead>
          <tr>
            <th><a href="#" id="map_all">View Map</a></th>
            <th>tags</th>
            <th>coords</th>
            <th>uploaded</th>
            <th>actions</th>
          </tr>
        </thead>
        <tbody>
          <% photos.forEach(photo => { %>
            <tr>
              <td>
                <a href="#" onclick='fullSize("<%- photo._id %>")'>
                  <%- photo.thumbnailTag %>
                </a>
              </td>
              <td>
                <div class="columns">
                  <% photo.scores.forEach(function(tag) { %>
                    <span><%= tag %></span>
                  <% }) %>
                </div>
              </td>
              <td>
                <div class="geo_from">
                  <!-- <span class="label <%- photo.geo_from %>"><%= photo.geo_from %></span>
                  <a href="#" class="coords"><%= photo.prettyGeo %></a> -->
                  <span class="label <%- photo.geo_from %>" data-tooltip title="<%= photo.prettyGeo %>"><%= photo.geo_from %></span>
                </div>

              </td>
              <td><%= photo.created %></td>
              <td> <a href="#" class="delete_action">X</a> </td>
            </tr>
          <% }) %>
        </tbody>
      </table>

    </div>


    <div class="reveal image_modal" id="imgModal" data-reveal>
      <button class="close-button" data-close aria-label="Close modal" type="button">
        <span aria-hidden="true">&times;</span>
      </button>
      <div class="image_holder" id="image_holder"> </div>
    </div>

    <div class="full reveal map_modal" id="mapModal" data-reveal>
      <button class="close-button" data-close aria-label="Close modal" type="button">
        <span aria-hidden="true">&times;</span>
      </button>
      <div class="map_holder" id="map"> </div>
    </div>

  </body>
</html>
